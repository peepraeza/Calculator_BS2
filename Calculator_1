class Calculator:
    def __init__(self, example): 
        self.ex = example.split(" ") # split string to list
        self.len = len(self.ex)
        self.number = []
        self.operator = []
        self.i = 0

    def calculate(self): # function initial
        self.add_data() # call add_data function
        self.print_answer() # call print_answer function

    def add_data(self):
        while (self.i < self.len): # if in variable have parenthesis
            if(self.ex[self.i].isdigit() and self.ex[self.i] != "(" and self.ex[self.i] != ")"): # if variable is number
                self.number.append(self.ex[self.i]) # add operator to stack operator
            elif(self.ex[self.i] == "+" or self.ex[self.i] == "-" or self.ex[self.i] == "x" or # if variable is operator
                self.ex[self.i] == "/"):
                self.operator.append(self.ex[self.i]) # add operator to stack operator
            elif(self.ex[self.i] == ")"):
                b = float(self.number.pop())
                a = float(self.number.pop())
                op = self.operator.pop()
                self.number.append(self.cal(a, b, op)) 
            self.i += 1
        self.i = 0
        
        while(len(self.number) >= 2): # if in variable have not parenthesis
            if("x" in self.operator or "/" in self.operator): # if multiple or divider in stack operator
                for i in range(len(self.operator)):
                    if(self.operator[i] == "x" or self.operator[i] == "/"):
                        self.insert_data(i) 
                        break
            elif(not "x" in self.operator and not "/" in self.operator): # if addition or minus in stack operator
                for i in range(len(self.operator)):
                    if(self.operator[i] == "+" or self.operator[i] == "-"):
                        self.insert_data(i)
                        break
                        
    def insert_data(self, index): # function for insert data in stack number
        a = float(self.number.pop(index))
        b = float(self.number.pop(index))
        op = self.operator.pop(index)
        self.number.insert(index, self.cal(a, b, op)) # insert number
        
    def cal(self, a, b, op): # function for calculate number
        if(op == "+"):
            return (a+b) 
        elif(op == "-"):
            return (a-b)
        elif(op == "x"):
            return (a*b)
        elif(op == "/"):
            return (a/b)

    def print_answer(self): # function for print answer
        print(self.number[0])

ex = Calculator(input("Enter algebra:"))
ex.calculate()
